"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/upload";
exports.ids = ["pages/api/upload"];
exports.modules = {

/***/ "(api-node)/./lib/chunkMarkdown.ts":
/*!******************************!*\
  !*** ./lib/chunkMarkdown.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chunkMarkdown: () => (/* binding */ chunkMarkdown)\n/* harmony export */ });\n/**\n * Chunks markdown text into smaller segments based on tokens\n */ function chunkMarkdown(markdownText, maxTokens = 500) {\n    if (!markdownText) return [];\n    // Split by headings to create natural breaks\n    const headingRegex = /(?=^#{1,6}\\s.+$)/gm;\n    let segments = markdownText.split(headingRegex);\n    // Further split large segments\n    const chunks = [];\n    segments.forEach((segment)=>{\n        // Estimate tokens - rough approximation (1 token ~= 4 chars)\n        const estimatedTokens = segment.length / 4;\n        if (estimatedTokens <= maxTokens) {\n            chunks.push(segment.trim());\n        } else {\n            // Split by paragraphs for large segments\n            const paragraphs = segment.split(/\\n\\s*\\n/);\n            let currentChunk = '';\n            paragraphs.forEach((paragraph)=>{\n                const paragraphTokens = paragraph.length / 4;\n                if (currentChunk.length / 4 + paragraphTokens <= maxTokens) {\n                    currentChunk += (currentChunk ? '\\n\\n' : '') + paragraph;\n                } else {\n                    if (currentChunk) {\n                        chunks.push(currentChunk.trim());\n                    }\n                    // If a single paragraph is too large, split it further\n                    if (paragraphTokens > maxTokens) {\n                        const sentences = paragraph.split(/(?<=\\.|\\?|\\!)\\s+/);\n                        currentChunk = '';\n                        sentences.forEach((sentence)=>{\n                            const sentenceTokens = sentence.length / 4;\n                            if (currentChunk.length / 4 + sentenceTokens <= maxTokens) {\n                                currentChunk += (currentChunk ? ' ' : '') + sentence;\n                            } else {\n                                if (currentChunk) {\n                                    chunks.push(currentChunk.trim());\n                                }\n                                currentChunk = sentence;\n                            }\n                        });\n                        if (currentChunk) {\n                            chunks.push(currentChunk.trim());\n                        }\n                    } else {\n                        currentChunk = paragraph;\n                    }\n                }\n            });\n            if (currentChunk) {\n                chunks.push(currentChunk.trim());\n            }\n        }\n    });\n    // Filter out any empty chunks\n    return chunks.filter((chunk)=>chunk.trim().length > 0);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9jaHVua01hcmtkb3duLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7Q0FFQyxHQUNNLFNBQVNBLGNBQWNDLFlBQVksRUFBRUMsWUFBWSxHQUFHO0lBQ3pELElBQUksQ0FBQ0QsY0FBYyxPQUFPLEVBQUU7SUFFNUIsNkNBQTZDO0lBQzdDLE1BQU1FLGVBQWU7SUFDckIsSUFBSUMsV0FBV0gsYUFBYUksS0FBSyxDQUFDRjtJQUVsQywrQkFBK0I7SUFDL0IsTUFBTUcsU0FBUyxFQUFFO0lBRWpCRixTQUFTRyxPQUFPLENBQUNDLENBQUFBO1FBQ2YsNkRBQTZEO1FBQzdELE1BQU1DLGtCQUFrQkQsUUFBUUUsTUFBTSxHQUFHO1FBRXpDLElBQUlELG1CQUFtQlAsV0FBVztZQUNoQ0ksT0FBT0ssSUFBSSxDQUFDSCxRQUFRSSxJQUFJO1FBQzFCLE9BQU87WUFDTCx5Q0FBeUM7WUFDekMsTUFBTUMsYUFBYUwsUUFBUUgsS0FBSyxDQUFDO1lBQ2pDLElBQUlTLGVBQWU7WUFFbkJELFdBQVdOLE9BQU8sQ0FBQ1EsQ0FBQUE7Z0JBQ2pCLE1BQU1DLGtCQUFrQkQsVUFBVUwsTUFBTSxHQUFHO2dCQUUzQyxJQUFJLGFBQWNBLE1BQU0sR0FBRyxJQUFLTSxtQkFBbUJkLFdBQVc7b0JBQzVEWSxnQkFBZ0IsQ0FBQ0EsZUFBZSxTQUFTLEVBQUMsSUFBS0M7Z0JBQ2pELE9BQU87b0JBQ0wsSUFBSUQsY0FBYzt3QkFDaEJSLE9BQU9LLElBQUksQ0FBQ0csYUFBYUYsSUFBSTtvQkFDL0I7b0JBRUEsdURBQXVEO29CQUN2RCxJQUFJSSxrQkFBa0JkLFdBQVc7d0JBQy9CLE1BQU1lLFlBQVlGLFVBQVVWLEtBQUssQ0FBQzt3QkFDbENTLGVBQWU7d0JBRWZHLFVBQVVWLE9BQU8sQ0FBQ1csQ0FBQUE7NEJBQ2hCLE1BQU1DLGlCQUFpQkQsU0FBU1IsTUFBTSxHQUFHOzRCQUV6QyxJQUFJLGFBQWNBLE1BQU0sR0FBRyxJQUFLUyxrQkFBa0JqQixXQUFXO2dDQUMzRFksZ0JBQWdCLENBQUNBLGVBQWUsTUFBTSxFQUFDLElBQUtJOzRCQUM5QyxPQUFPO2dDQUNMLElBQUlKLGNBQWM7b0NBQ2hCUixPQUFPSyxJQUFJLENBQUNHLGFBQWFGLElBQUk7Z0NBQy9CO2dDQUNBRSxlQUFlSTs0QkFDakI7d0JBQ0Y7d0JBRUEsSUFBSUosY0FBYzs0QkFDaEJSLE9BQU9LLElBQUksQ0FBQ0csYUFBYUYsSUFBSTt3QkFDL0I7b0JBQ0YsT0FBTzt3QkFDTEUsZUFBZUM7b0JBQ2pCO2dCQUNGO1lBQ0Y7WUFFQSxJQUFJRCxjQUFjO2dCQUNoQlIsT0FBT0ssSUFBSSxDQUFDRyxhQUFhRixJQUFJO1lBQy9CO1FBQ0Y7SUFDRjtJQUVBLDhCQUE4QjtJQUM5QixPQUFPTixPQUFPYyxNQUFNLENBQUNDLENBQUFBLFFBQVNBLE1BQU1ULElBQUksR0FBR0YsTUFBTSxHQUFHO0FBQ3REIiwic291cmNlcyI6WyIvaG9tZS9paWl0ZC9vcmVraS9sbG1kb2NzLXIvcmFnLWFwcC9saWIvY2h1bmtNYXJrZG93bi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENodW5rcyBtYXJrZG93biB0ZXh0IGludG8gc21hbGxlciBzZWdtZW50cyBiYXNlZCBvbiB0b2tlbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNodW5rTWFya2Rvd24obWFya2Rvd25UZXh0LCBtYXhUb2tlbnMgPSA1MDApIHtcbiAgaWYgKCFtYXJrZG93blRleHQpIHJldHVybiBbXTtcblxuICAvLyBTcGxpdCBieSBoZWFkaW5ncyB0byBjcmVhdGUgbmF0dXJhbCBicmVha3NcbiAgY29uc3QgaGVhZGluZ1JlZ2V4ID0gLyg/PV4jezEsNn1cXHMuKyQpL2dtO1xuICBsZXQgc2VnbWVudHMgPSBtYXJrZG93blRleHQuc3BsaXQoaGVhZGluZ1JlZ2V4KTtcblxuICAvLyBGdXJ0aGVyIHNwbGl0IGxhcmdlIHNlZ21lbnRzXG4gIGNvbnN0IGNodW5rcyA9IFtdO1xuICBcbiAgc2VnbWVudHMuZm9yRWFjaChzZWdtZW50ID0+IHtcbiAgICAvLyBFc3RpbWF0ZSB0b2tlbnMgLSByb3VnaCBhcHByb3hpbWF0aW9uICgxIHRva2VuIH49IDQgY2hhcnMpXG4gICAgY29uc3QgZXN0aW1hdGVkVG9rZW5zID0gc2VnbWVudC5sZW5ndGggLyA0O1xuICAgIFxuICAgIGlmIChlc3RpbWF0ZWRUb2tlbnMgPD0gbWF4VG9rZW5zKSB7XG4gICAgICBjaHVua3MucHVzaChzZWdtZW50LnRyaW0oKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIFNwbGl0IGJ5IHBhcmFncmFwaHMgZm9yIGxhcmdlIHNlZ21lbnRzXG4gICAgICBjb25zdCBwYXJhZ3JhcGhzID0gc2VnbWVudC5zcGxpdCgvXFxuXFxzKlxcbi8pO1xuICAgICAgbGV0IGN1cnJlbnRDaHVuayA9ICcnO1xuICAgICAgXG4gICAgICBwYXJhZ3JhcGhzLmZvckVhY2gocGFyYWdyYXBoID0+IHtcbiAgICAgICAgY29uc3QgcGFyYWdyYXBoVG9rZW5zID0gcGFyYWdyYXBoLmxlbmd0aCAvIDQ7XG4gICAgICAgIFxuICAgICAgICBpZiAoKGN1cnJlbnRDaHVuay5sZW5ndGggLyA0KSArIHBhcmFncmFwaFRva2VucyA8PSBtYXhUb2tlbnMpIHtcbiAgICAgICAgICBjdXJyZW50Q2h1bmsgKz0gKGN1cnJlbnRDaHVuayA/ICdcXG5cXG4nIDogJycpICsgcGFyYWdyYXBoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChjdXJyZW50Q2h1bmspIHtcbiAgICAgICAgICAgIGNodW5rcy5wdXNoKGN1cnJlbnRDaHVuay50cmltKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiBhIHNpbmdsZSBwYXJhZ3JhcGggaXMgdG9vIGxhcmdlLCBzcGxpdCBpdCBmdXJ0aGVyXG4gICAgICAgICAgaWYgKHBhcmFncmFwaFRva2VucyA+IG1heFRva2Vucykge1xuICAgICAgICAgICAgY29uc3Qgc2VudGVuY2VzID0gcGFyYWdyYXBoLnNwbGl0KC8oPzw9XFwufFxcP3xcXCEpXFxzKy8pO1xuICAgICAgICAgICAgY3VycmVudENodW5rID0gJyc7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNlbnRlbmNlcy5mb3JFYWNoKHNlbnRlbmNlID0+IHtcbiAgICAgICAgICAgICAgY29uc3Qgc2VudGVuY2VUb2tlbnMgPSBzZW50ZW5jZS5sZW5ndGggLyA0O1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgaWYgKChjdXJyZW50Q2h1bmsubGVuZ3RoIC8gNCkgKyBzZW50ZW5jZVRva2VucyA8PSBtYXhUb2tlbnMpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsgKz0gKGN1cnJlbnRDaHVuayA/ICcgJyA6ICcnKSArIHNlbnRlbmNlO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q2h1bmspIHtcbiAgICAgICAgICAgICAgICAgIGNodW5rcy5wdXNoKGN1cnJlbnRDaHVuay50cmltKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXJyZW50Q2h1bmsgPSBzZW50ZW5jZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChjdXJyZW50Q2h1bmspIHtcbiAgICAgICAgICAgICAgY2h1bmtzLnB1c2goY3VycmVudENodW5rLnRyaW0oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRDaHVuayA9IHBhcmFncmFwaDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoY3VycmVudENodW5rKSB7XG4gICAgICAgIGNodW5rcy5wdXNoKGN1cnJlbnRDaHVuay50cmltKCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIFxuICAvLyBGaWx0ZXIgb3V0IGFueSBlbXB0eSBjaHVua3NcbiAgcmV0dXJuIGNodW5rcy5maWx0ZXIoY2h1bmsgPT4gY2h1bmsudHJpbSgpLmxlbmd0aCA+IDApO1xufSJdLCJuYW1lcyI6WyJjaHVua01hcmtkb3duIiwibWFya2Rvd25UZXh0IiwibWF4VG9rZW5zIiwiaGVhZGluZ1JlZ2V4Iiwic2VnbWVudHMiLCJzcGxpdCIsImNodW5rcyIsImZvckVhY2giLCJzZWdtZW50IiwiZXN0aW1hdGVkVG9rZW5zIiwibGVuZ3RoIiwicHVzaCIsInRyaW0iLCJwYXJhZ3JhcGhzIiwiY3VycmVudENodW5rIiwicGFyYWdyYXBoIiwicGFyYWdyYXBoVG9rZW5zIiwic2VudGVuY2VzIiwic2VudGVuY2UiLCJzZW50ZW5jZVRva2VucyIsImZpbHRlciIsImNodW5rIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./lib/chunkMarkdown.ts\n");

/***/ }),

/***/ "(api-node)/./lib/embed.ts":
/*!**********************!*\
  !*** ./lib/embed.ts ***!
  \**********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   computeCosineSimilarity: () => (/* binding */ computeCosineSimilarity),\n/* harmony export */   getEmbedding: () => (/* binding */ getEmbedding)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"@google/generative-ai\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_google_generative_ai__WEBPACK_IMPORTED_MODULE_0__]);\n_google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n/**\n * Generates embeddings for text using the Gemini Embeddings API\n */ \n// Initialize the Google Generative AI with your API key\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY || '');\n// Get the embedding model\nconst embeddingModel = genAI.getGenerativeModel({\n    model: \"embedding-001\"\n});\nasync function getEmbedding(text) {\n    try {\n        const result = await embeddingModel.embedContent(text);\n        const embedding = result.embedding.values;\n        return embedding;\n    } catch (error) {\n        console.error('Error generating embedding:', error);\n        throw new Error('Failed to generate embedding');\n    }\n}\n/**\n * Computes cosine similarity between two vectors\n */ function computeCosineSimilarity(vecA, vecB) {\n    if (!vecA || !vecB || vecA.length !== vecB.length) {\n        throw new Error('Vectors must have the same dimensions');\n    }\n    let dotProduct = 0;\n    let normA = 0;\n    let normB = 0;\n    for(let i = 0; i < vecA.length; i++){\n        dotProduct += vecA[i] * vecB[i];\n        normA += vecA[i] * vecA[i];\n        normB += vecB[i] * vecB[i];\n    }\n    normA = Math.sqrt(normA);\n    normB = Math.sqrt(normB);\n    if (normA === 0 || normB === 0) {\n        return 0;\n    }\n    return dotProduct / (normA * normB);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2xpYi9lbWJlZC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTs7Q0FFQyxHQUMwRDtBQUUzRCx3REFBd0Q7QUFDeEQsTUFBTUMsUUFBUSxJQUFJRCxxRUFBa0JBLENBQUNFLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxJQUFJO0FBRW5FLDBCQUEwQjtBQUMxQixNQUFNQyxpQkFBaUJKLE1BQU1LLGtCQUFrQixDQUFDO0lBQUVDLE9BQU87QUFBZ0I7QUFFbEUsZUFBZUMsYUFBYUMsSUFBWTtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsU0FBUyxNQUFNTCxlQUFlTSxZQUFZLENBQUNGO1FBQ2pELE1BQU1HLFlBQVlGLE9BQU9FLFNBQVMsQ0FBQ0MsTUFBTTtRQUN6QyxPQUFPRDtJQUNULEVBQUUsT0FBT0UsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsK0JBQStCQTtRQUM3QyxNQUFNLElBQUlFLE1BQU07SUFDbEI7QUFDRjtBQUVBOztDQUVDLEdBQ00sU0FBU0Msd0JBQXdCQyxJQUFjLEVBQUVDLElBQWM7SUFDcEUsSUFBSSxDQUFDRCxRQUFRLENBQUNDLFFBQVFELEtBQUtFLE1BQU0sS0FBS0QsS0FBS0MsTUFBTSxFQUFFO1FBQ2pELE1BQU0sSUFBSUosTUFBTTtJQUNsQjtJQUVBLElBQUlLLGFBQWE7SUFDakIsSUFBSUMsUUFBUTtJQUNaLElBQUlDLFFBQVE7SUFFWixJQUFLLElBQUlDLElBQUksR0FBR0EsSUFBSU4sS0FBS0UsTUFBTSxFQUFFSSxJQUFLO1FBQ3BDSCxjQUFjSCxJQUFJLENBQUNNLEVBQUUsR0FBR0wsSUFBSSxDQUFDSyxFQUFFO1FBQy9CRixTQUFTSixJQUFJLENBQUNNLEVBQUUsR0FBR04sSUFBSSxDQUFDTSxFQUFFO1FBQzFCRCxTQUFTSixJQUFJLENBQUNLLEVBQUUsR0FBR0wsSUFBSSxDQUFDSyxFQUFFO0lBQzVCO0lBRUFGLFFBQVFHLEtBQUtDLElBQUksQ0FBQ0o7SUFDbEJDLFFBQVFFLEtBQUtDLElBQUksQ0FBQ0g7SUFFbEIsSUFBSUQsVUFBVSxLQUFLQyxVQUFVLEdBQUc7UUFDOUIsT0FBTztJQUNUO0lBRUEsT0FBT0YsYUFBY0MsQ0FBQUEsUUFBUUMsS0FBSTtBQUNuQyIsInNvdXJjZXMiOlsiL2hvbWUvaWlpdGQvb3Jla2kvbGxtZG9jcy1yL3JhZy1hcHAvbGliL2VtYmVkLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogR2VuZXJhdGVzIGVtYmVkZGluZ3MgZm9yIHRleHQgdXNpbmcgdGhlIEdlbWluaSBFbWJlZGRpbmdzIEFQSVxuICovXG5pbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tICdAZ29vZ2xlL2dlbmVyYXRpdmUtYWknO1xuXG4vLyBJbml0aWFsaXplIHRoZSBHb29nbGUgR2VuZXJhdGl2ZSBBSSB3aXRoIHlvdXIgQVBJIGtleVxuY29uc3QgZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKHByb2Nlc3MuZW52LkdFTUlOSV9BUElfS0VZIHx8ICcnKTtcblxuLy8gR2V0IHRoZSBlbWJlZGRpbmcgbW9kZWxcbmNvbnN0IGVtYmVkZGluZ01vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IFwiZW1iZWRkaW5nLTAwMVwiIH0pO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RW1iZWRkaW5nKHRleHQ6IHN0cmluZyk6IFByb21pc2U8bnVtYmVyW10+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBlbWJlZGRpbmdNb2RlbC5lbWJlZENvbnRlbnQodGV4dCk7XG4gICAgY29uc3QgZW1iZWRkaW5nID0gcmVzdWx0LmVtYmVkZGluZy52YWx1ZXM7XG4gICAgcmV0dXJuIGVtYmVkZGluZztcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZW5lcmF0aW5nIGVtYmVkZGluZzonLCBlcnJvcik7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2VuZXJhdGUgZW1iZWRkaW5nJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBDb21wdXRlcyBjb3NpbmUgc2ltaWxhcml0eSBiZXR3ZWVuIHR3byB2ZWN0b3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlQ29zaW5lU2ltaWxhcml0eSh2ZWNBOiBudW1iZXJbXSwgdmVjQjogbnVtYmVyW10pOiBudW1iZXIge1xuICBpZiAoIXZlY0EgfHwgIXZlY0IgfHwgdmVjQS5sZW5ndGggIT09IHZlY0IubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdWZWN0b3JzIG11c3QgaGF2ZSB0aGUgc2FtZSBkaW1lbnNpb25zJyk7XG4gIH1cblxuICBsZXQgZG90UHJvZHVjdCA9IDA7XG4gIGxldCBub3JtQSA9IDA7XG4gIGxldCBub3JtQiA9IDA7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCB2ZWNBLmxlbmd0aDsgaSsrKSB7XG4gICAgZG90UHJvZHVjdCArPSB2ZWNBW2ldICogdmVjQltpXTtcbiAgICBub3JtQSArPSB2ZWNBW2ldICogdmVjQVtpXTtcbiAgICBub3JtQiArPSB2ZWNCW2ldICogdmVjQltpXTtcbiAgfVxuXG4gIG5vcm1BID0gTWF0aC5zcXJ0KG5vcm1BKTtcbiAgbm9ybUIgPSBNYXRoLnNxcnQobm9ybUIpO1xuXG4gIGlmIChub3JtQSA9PT0gMCB8fCBub3JtQiA9PT0gMCkge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgcmV0dXJuIGRvdFByb2R1Y3QgLyAobm9ybUEgKiBub3JtQik7XG59Il0sIm5hbWVzIjpbIkdvb2dsZUdlbmVyYXRpdmVBSSIsImdlbkFJIiwicHJvY2VzcyIsImVudiIsIkdFTUlOSV9BUElfS0VZIiwiZW1iZWRkaW5nTW9kZWwiLCJnZXRHZW5lcmF0aXZlTW9kZWwiLCJtb2RlbCIsImdldEVtYmVkZGluZyIsInRleHQiLCJyZXN1bHQiLCJlbWJlZENvbnRlbnQiLCJlbWJlZGRpbmciLCJ2YWx1ZXMiLCJlcnJvciIsImNvbnNvbGUiLCJFcnJvciIsImNvbXB1dGVDb3NpbmVTaW1pbGFyaXR5IiwidmVjQSIsInZlY0IiLCJsZW5ndGgiLCJkb3RQcm9kdWN0Iiwibm9ybUEiLCJub3JtQiIsImkiLCJNYXRoIiwic3FydCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/embed.ts\n");

/***/ }),

/***/ "(api-node)/./lib/rag.ts":
/*!********************!*\
  !*** ./lib/rag.ts ***!
  \********************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getRAGStatus: () => (/* binding */ getRAGStatus),\n/* harmony export */   initializeRAG: () => (/* binding */ initializeRAG),\n/* harmony export */   queryRAG: () => (/* binding */ queryRAG)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"@google/generative-ai\");\n/* harmony import */ var _embed__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./embed */ \"(api-node)/./lib/embed.ts\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_3__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_google_generative_ai__WEBPACK_IMPORTED_MODULE_0__, _embed__WEBPACK_IMPORTED_MODULE_1__]);\n([_google_generative_ai__WEBPACK_IMPORTED_MODULE_0__, _embed__WEBPACK_IMPORTED_MODULE_1__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n// Initialize the Google Generative AI with your API key\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY || '');\n// Path to store embedded chunks\nconst embeddingsFilePath = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), 'data', 'embeddings.json');\n// Create a global in-memory store for our embedded chunks\n// Format: { id: string, text: string, embedding: number[] }[]\nlet embeddedChunks = [];\n// Load embeddings from file if they exist\ntry {\n    if (fs__WEBPACK_IMPORTED_MODULE_2___default().existsSync(embeddingsFilePath)) {\n        const data = fs__WEBPACK_IMPORTED_MODULE_2___default().readFileSync(embeddingsFilePath, 'utf-8');\n        embeddedChunks = JSON.parse(data);\n        console.log(`Loaded ${embeddedChunks.length} embedded chunks from disk`);\n    }\n} catch (error) {\n    console.error('Error loading embeddings from disk:', error);\n    embeddedChunks = [];\n}\n/**\n * Save the current embeddings to disk\n */ function saveEmbeddingsToDisk() {\n    try {\n        const dataDir = path__WEBPACK_IMPORTED_MODULE_3___default().join(process.cwd(), 'data');\n        if (!fs__WEBPACK_IMPORTED_MODULE_2___default().existsSync(dataDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_2___default().mkdirSync(dataDir, {\n                recursive: true\n            });\n        }\n        fs__WEBPACK_IMPORTED_MODULE_2___default().writeFileSync(embeddingsFilePath, JSON.stringify(embeddedChunks), 'utf-8');\n        console.log(`Saved ${embeddedChunks.length} embedded chunks to disk`);\n    } catch (error) {\n        console.error('Error saving embeddings to disk:', error);\n    }\n}\nasync function initializeRAG(chunks) {\n    try {\n        console.log(`Initializing RAG with ${chunks.length} chunks`);\n        embeddedChunks = [];\n        // Process chunks in batches to avoid rate limiting issues\n        const batchSize = 10;\n        for(let i = 0; i < chunks.length; i += batchSize){\n            const batch = chunks.slice(i, i + batchSize);\n            // Process batch in parallel\n            const batchPromises = batch.map(async (chunk, index)=>{\n                const embedding = await (0,_embed__WEBPACK_IMPORTED_MODULE_1__.getEmbedding)(chunk);\n                return {\n                    id: `chunk-${i + index}`,\n                    text: chunk,\n                    embedding\n                };\n            });\n            const batchResults = await Promise.all(batchPromises);\n            embeddedChunks.push(...batchResults);\n            // Simple progress logging\n            console.log(`Embedded ${Math.min(i + batchSize, chunks.length)}/${chunks.length} chunks`);\n            // Add a small delay between batches to avoid rate limiting\n            if (i + batchSize < chunks.length) {\n                await new Promise((resolve)=>setTimeout(resolve, 500));\n            }\n        }\n        // Save embeddings to disk after initialization\n        saveEmbeddingsToDisk();\n        console.log('RAG initialization complete');\n        return true;\n    } catch (error) {\n        console.error('Error initializing RAG:', error);\n        throw new Error('Failed to initialize RAG');\n    }\n}\nasync function queryRAG(question, topK = 3) {\n    try {\n        if (embeddedChunks.length === 0) {\n            throw new Error('RAG system not initialized with content');\n        }\n        // Get embedding for the question\n        const questionEmbedding = await (0,_embed__WEBPACK_IMPORTED_MODULE_1__.getEmbedding)(question);\n        // Calculate similarity scores for all chunks\n        const scoredChunks = embeddedChunks.map((chunk)=>({\n                ...chunk,\n                score: (0,_embed__WEBPACK_IMPORTED_MODULE_1__.computeCosineSimilarity)(questionEmbedding, chunk.embedding)\n            }));\n        // Sort by similarity score (descending) and take top K\n        const topChunks = scoredChunks.sort((a, b)=>b.score - a.score).slice(0, topK);\n        // Extract just the text from the top chunks\n        const relevantContext = topChunks.map((chunk)=>chunk.text).join(\"\\n\\n\");\n        // Get the Gemini model for generating responses\n        const model = genAI.getGenerativeModel({\n            model: \"gemini-2.0-flash-lite-preview-02-05\"\n        });\n        // Create the prompt with context and question\n        const prompt = `You are a helpful assistant. Use the following documentation context to answer the question.\n\nContext:\n${relevantContext}\n\nQuestion:\n${question}\n\nIf the answer cannot be found in the context, say \"I don't have enough information to answer that question based on the provided documentation.\"`;\n        // Generate a response\n        const result = await model.generateContent(prompt);\n        const response = result.response.text();\n        return {\n            response,\n            usedChunks: topChunks.map((chunk)=>({\n                    id: chunk.id,\n                    text: chunk.text\n                }))\n        };\n    } catch (error) {\n        console.error('Error querying RAG:', error);\n        throw new Error('Failed to query RAG');\n    }\n}\nfunction getRAGStatus() {\n    // Add logging to help debug the initialization state\n    console.log(`RAG status check: ${embeddedChunks.length} chunks loaded, initialized: ${embeddedChunks.length > 0}`);\n    return {\n        initialized: embeddedChunks.length > 0,\n        chunkCount: embeddedChunks.length\n    };\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFFBQVFHLEtBQUssQ0FBQyx1QkFBdUJBO1FBQ3JDLE1BQU0sSUFBSTRCLE1BQU07SUFDbEI7QUFDRjtBQUVPLFNBQVNtQjtJQUNkLHFEQUFxRDtJQUNyRGxELFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGtCQUFrQixFQUFFUCxlQUFlUSxNQUFNLENBQUMsNkJBQTZCLEVBQUVSLGVBQWVRLE1BQU0sR0FBRyxHQUFHO0lBRWpILE9BQU87UUFDTGlELGFBQWF6RCxlQUFlUSxNQUFNLEdBQUc7UUFDckNrRCxZQUFZMUQsZUFBZVEsTUFBTTtJQUNuQztBQUNGIiwic291cmNlcyI6WyIvaG9tZS9paWl0ZC9vcmVraS9sbG1kb2NzLXIvcmFnLWFwcC9saWIvcmFnLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSSB9IGZyb20gJ0Bnb29nbGUvZ2VuZXJhdGl2ZS1haSc7XG5pbXBvcnQgeyBnZXRFbWJlZGRpbmcsIGNvbXB1dGVDb3NpbmVTaW1pbGFyaXR5IH0gZnJvbSAnLi9lbWJlZCc7XG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5cbi8vIEluaXRpYWxpemUgdGhlIEdvb2dsZSBHZW5lcmF0aXZlIEFJIHdpdGggeW91ciBBUEkga2V5XG5jb25zdCBnZW5BSSA9IG5ldyBHb29nbGVHZW5lcmF0aXZlQUkocHJvY2Vzcy5lbnYuR0VNSU5JX0FQSV9LRVkgfHwgJycpO1xuXG4vLyBQYXRoIHRvIHN0b3JlIGVtYmVkZGVkIGNodW5rc1xuY29uc3QgZW1iZWRkaW5nc0ZpbGVQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdkYXRhJywgJ2VtYmVkZGluZ3MuanNvbicpO1xuXG4vLyBDcmVhdGUgYSBnbG9iYWwgaW4tbWVtb3J5IHN0b3JlIGZvciBvdXIgZW1iZWRkZWQgY2h1bmtzXG4vLyBGb3JtYXQ6IHsgaWQ6IHN0cmluZywgdGV4dDogc3RyaW5nLCBlbWJlZGRpbmc6IG51bWJlcltdIH1bXVxubGV0IGVtYmVkZGVkQ2h1bmtzOiB7IGlkOiBzdHJpbmc7IHRleHQ6IHN0cmluZzsgZW1iZWRkaW5nOiBudW1iZXJbXSB9W10gPSBbXTtcblxuLy8gTG9hZCBlbWJlZGRpbmdzIGZyb20gZmlsZSBpZiB0aGV5IGV4aXN0XG50cnkge1xuICBpZiAoZnMuZXhpc3RzU3luYyhlbWJlZGRpbmdzRmlsZVBhdGgpKSB7XG4gICAgY29uc3QgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhlbWJlZGRpbmdzRmlsZVBhdGgsICd1dGYtOCcpO1xuICAgIGVtYmVkZGVkQ2h1bmtzID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICBjb25zb2xlLmxvZyhgTG9hZGVkICR7ZW1iZWRkZWRDaHVua3MubGVuZ3RofSBlbWJlZGRlZCBjaHVua3MgZnJvbSBkaXNrYCk7XG4gIH1cbn0gY2F0Y2ggKGVycm9yKSB7XG4gIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvYWRpbmcgZW1iZWRkaW5ncyBmcm9tIGRpc2s6JywgZXJyb3IpO1xuICBlbWJlZGRlZENodW5rcyA9IFtdO1xufVxuXG4vKipcbiAqIFNhdmUgdGhlIGN1cnJlbnQgZW1iZWRkaW5ncyB0byBkaXNrXG4gKi9cbmZ1bmN0aW9uIHNhdmVFbWJlZGRpbmdzVG9EaXNrKCkge1xuICB0cnkge1xuICAgIGNvbnN0IGRhdGFEaXIgPSBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ2RhdGEnKTtcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMoZGF0YURpcikpIHtcbiAgICAgIGZzLm1rZGlyU3luYyhkYXRhRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbiAgICB9XG4gICAgXG4gICAgZnMud3JpdGVGaWxlU3luYyhlbWJlZGRpbmdzRmlsZVBhdGgsIEpTT04uc3RyaW5naWZ5KGVtYmVkZGVkQ2h1bmtzKSwgJ3V0Zi04Jyk7XG4gICAgY29uc29sZS5sb2coYFNhdmVkICR7ZW1iZWRkZWRDaHVua3MubGVuZ3RofSBlbWJlZGRlZCBjaHVua3MgdG8gZGlza2ApO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBlbWJlZGRpbmdzIHRvIGRpc2s6JywgZXJyb3IpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0aWFsaXplUkFHKGNodW5rczogc3RyaW5nW10pIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhgSW5pdGlhbGl6aW5nIFJBRyB3aXRoICR7Y2h1bmtzLmxlbmd0aH0gY2h1bmtzYCk7XG4gICAgZW1iZWRkZWRDaHVua3MgPSBbXTtcbiAgICBcbiAgICAvLyBQcm9jZXNzIGNodW5rcyBpbiBiYXRjaGVzIHRvIGF2b2lkIHJhdGUgbGltaXRpbmcgaXNzdWVzXG4gICAgY29uc3QgYmF0Y2hTaXplID0gMTA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVua3MubGVuZ3RoOyBpICs9IGJhdGNoU2l6ZSkge1xuICAgICAgY29uc3QgYmF0Y2ggPSBjaHVua3Muc2xpY2UoaSwgaSArIGJhdGNoU2l6ZSk7XG4gICAgICBcbiAgICAgIC8vIFByb2Nlc3MgYmF0Y2ggaW4gcGFyYWxsZWxcbiAgICAgIGNvbnN0IGJhdGNoUHJvbWlzZXMgPSBiYXRjaC5tYXAoYXN5bmMgKGNodW5rLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBlbWJlZGRpbmcgPSBhd2FpdCBnZXRFbWJlZGRpbmcoY2h1bmspO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGlkOiBgY2h1bmstJHtpICsgaW5kZXh9YCxcbiAgICAgICAgICB0ZXh0OiBjaHVuayxcbiAgICAgICAgICBlbWJlZGRpbmdcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBiYXRjaFJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChiYXRjaFByb21pc2VzKTtcbiAgICAgIGVtYmVkZGVkQ2h1bmtzLnB1c2goLi4uYmF0Y2hSZXN1bHRzKTtcbiAgICAgIFxuICAgICAgLy8gU2ltcGxlIHByb2dyZXNzIGxvZ2dpbmdcbiAgICAgIGNvbnNvbGUubG9nKGBFbWJlZGRlZCAke01hdGgubWluKGkgKyBiYXRjaFNpemUsIGNodW5rcy5sZW5ndGgpfS8ke2NodW5rcy5sZW5ndGh9IGNodW5rc2ApO1xuICAgICAgXG4gICAgICAvLyBBZGQgYSBzbWFsbCBkZWxheSBiZXR3ZWVuIGJhdGNoZXMgdG8gYXZvaWQgcmF0ZSBsaW1pdGluZ1xuICAgICAgaWYgKGkgKyBiYXRjaFNpemUgPCBjaHVua3MubGVuZ3RoKSB7XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gU2F2ZSBlbWJlZGRpbmdzIHRvIGRpc2sgYWZ0ZXIgaW5pdGlhbGl6YXRpb25cbiAgICBzYXZlRW1iZWRkaW5nc1RvRGlzaygpO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdSQUcgaW5pdGlhbGl6YXRpb24gY29tcGxldGUnKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgUkFHOicsIGVycm9yKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIFJBRycpO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBxdWVyeVJBRyhxdWVzdGlvbjogc3RyaW5nLCB0b3BLOiBudW1iZXIgPSAzKSB7XG4gIHRyeSB7XG4gICAgaWYgKGVtYmVkZGVkQ2h1bmtzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSQUcgc3lzdGVtIG5vdCBpbml0aWFsaXplZCB3aXRoIGNvbnRlbnQnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gR2V0IGVtYmVkZGluZyBmb3IgdGhlIHF1ZXN0aW9uXG4gICAgY29uc3QgcXVlc3Rpb25FbWJlZGRpbmcgPSBhd2FpdCBnZXRFbWJlZGRpbmcocXVlc3Rpb24pO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBzaW1pbGFyaXR5IHNjb3JlcyBmb3IgYWxsIGNodW5rc1xuICAgIGNvbnN0IHNjb3JlZENodW5rcyA9IGVtYmVkZGVkQ2h1bmtzLm1hcChjaHVuayA9PiAoe1xuICAgICAgLi4uY2h1bmssXG4gICAgICBzY29yZTogY29tcHV0ZUNvc2luZVNpbWlsYXJpdHkocXVlc3Rpb25FbWJlZGRpbmcsIGNodW5rLmVtYmVkZGluZylcbiAgICB9KSk7XG4gICAgXG4gICAgLy8gU29ydCBieSBzaW1pbGFyaXR5IHNjb3JlIChkZXNjZW5kaW5nKSBhbmQgdGFrZSB0b3AgS1xuICAgIGNvbnN0IHRvcENodW5rcyA9IHNjb3JlZENodW5rc1xuICAgICAgLnNvcnQoKGEsIGIpID0+IGIuc2NvcmUgLSBhLnNjb3JlKVxuICAgICAgLnNsaWNlKDAsIHRvcEspO1xuICAgIFxuICAgIC8vIEV4dHJhY3QganVzdCB0aGUgdGV4dCBmcm9tIHRoZSB0b3AgY2h1bmtzXG4gICAgY29uc3QgcmVsZXZhbnRDb250ZXh0ID0gdG9wQ2h1bmtzLm1hcChjaHVuayA9PiBjaHVuay50ZXh0KS5qb2luKFwiXFxuXFxuXCIpO1xuICAgIFxuICAgIC8vIEdldCB0aGUgR2VtaW5pIG1vZGVsIGZvciBnZW5lcmF0aW5nIHJlc3BvbnNlc1xuICAgIGNvbnN0IG1vZGVsID0gZ2VuQUkuZ2V0R2VuZXJhdGl2ZU1vZGVsKHsgbW9kZWw6IFwiZ2VtaW5pLTIuMC1mbGFzaC1saXRlLXByZXZpZXctMDItMDVcIiB9KTtcbiAgICBcbiAgICAvLyBDcmVhdGUgdGhlIHByb21wdCB3aXRoIGNvbnRleHQgYW5kIHF1ZXN0aW9uXG4gICAgY29uc3QgcHJvbXB0ID0gYFlvdSBhcmUgYSBoZWxwZnVsIGFzc2lzdGFudC4gVXNlIHRoZSBmb2xsb3dpbmcgZG9jdW1lbnRhdGlvbiBjb250ZXh0IHRvIGFuc3dlciB0aGUgcXVlc3Rpb24uXG5cbkNvbnRleHQ6XG4ke3JlbGV2YW50Q29udGV4dH1cblxuUXVlc3Rpb246XG4ke3F1ZXN0aW9ufVxuXG5JZiB0aGUgYW5zd2VyIGNhbm5vdCBiZSBmb3VuZCBpbiB0aGUgY29udGV4dCwgc2F5IFwiSSBkb24ndCBoYXZlIGVub3VnaCBpbmZvcm1hdGlvbiB0byBhbnN3ZXIgdGhhdCBxdWVzdGlvbiBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgZG9jdW1lbnRhdGlvbi5cImA7XG4gICAgXG4gICAgLy8gR2VuZXJhdGUgYSByZXNwb25zZVxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IG1vZGVsLmdlbmVyYXRlQ29udGVudChwcm9tcHQpO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gcmVzdWx0LnJlc3BvbnNlLnRleHQoKTtcbiAgICBcbiAgICByZXR1cm4geyBcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgdXNlZENodW5rczogdG9wQ2h1bmtzLm1hcChjaHVuayA9PiAoeyBpZDogY2h1bmsuaWQsIHRleHQ6IGNodW5rLnRleHQgfSkpXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBxdWVyeWluZyBSQUc6JywgZXJyb3IpO1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHF1ZXJ5IFJBRycpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRSQUdTdGF0dXMoKSB7XG4gIC8vIEFkZCBsb2dnaW5nIHRvIGhlbHAgZGVidWcgdGhlIGluaXRpYWxpemF0aW9uIHN0YXRlXG4gIGNvbnNvbGUubG9nKGBSQUcgc3RhdHVzIGNoZWNrOiAke2VtYmVkZGVkQ2h1bmtzLmxlbmd0aH0gY2h1bmtzIGxvYWRlZCwgaW5pdGlhbGl6ZWQ6ICR7ZW1iZWRkZWRDaHVua3MubGVuZ3RoID4gMH1gKTtcbiAgXG4gIHJldHVybiB7XG4gICAgaW5pdGlhbGl6ZWQ6IGVtYmVkZGVkQ2h1bmtzLmxlbmd0aCA+IDAsXG4gICAgY2h1bmtDb3VudDogZW1iZWRkZWRDaHVua3MubGVuZ3RoXG4gIH07XG59Il0sIm5hbWVzIjpbIkdvb2dsZUdlbmVyYXRpdmVBSSIsImdldEVtYmVkZGluZyIsImNvbXB1dGVDb3NpbmVTaW1pbGFyaXR5IiwiZnMiLCJwYXRoIiwiZ2VuQUkiLCJwcm9jZXNzIiwiZW52IiwiR0VNSU5JX0FQSV9LRVkiLCJlbWJlZGRpbmdzRmlsZVBhdGgiLCJqb2luIiwiY3dkIiwiZW1iZWRkZWRDaHVua3MiLCJleGlzdHNTeW5jIiwiZGF0YSIsInJlYWRGaWxlU3luYyIsIkpTT04iLCJwYXJzZSIsImNvbnNvbGUiLCJsb2ciLCJsZW5ndGgiLCJlcnJvciIsInNhdmVFbWJlZGRpbmdzVG9EaXNrIiwiZGF0YURpciIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsIndyaXRlRmlsZVN5bmMiLCJzdHJpbmdpZnkiLCJpbml0aWFsaXplUkFHIiwiY2h1bmtzIiwiYmF0Y2hTaXplIiwiaSIsImJhdGNoIiwic2xpY2UiLCJiYXRjaFByb21pc2VzIiwibWFwIiwiY2h1bmsiLCJpbmRleCIsImVtYmVkZGluZyIsImlkIiwidGV4dCIsImJhdGNoUmVzdWx0cyIsIlByb21pc2UiLCJhbGwiLCJwdXNoIiwiTWF0aCIsIm1pbiIsInJlc29sdmUiLCJzZXRUaW1lb3V0IiwiRXJyb3IiLCJxdWVyeVJBRyIsInF1ZXN0aW9uIiwidG9wSyIsInF1ZXN0aW9uRW1iZWRkaW5nIiwic2NvcmVkQ2h1bmtzIiwic2NvcmUiLCJ0b3BDaHVua3MiLCJzb3J0IiwiYSIsImIiLCJyZWxldmFudENvbnRleHQiLCJtb2RlbCIsImdldEdlbmVyYXRpdmVNb2RlbCIsInByb21wdCIsInJlc3VsdCIsImdlbmVyYXRlQ29udGVudCIsInJlc3BvbnNlIiwidXNlZENodW5rcyIsImdldFJBR1N0YXR1cyIsImluaXRpYWxpemVkIiwiY2h1bmtDb3VudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./lib/rag.ts\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fupload.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fupload.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/upload.ts */ \"(api-node)/./pages/api/upload.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/upload\",\n        pathname: \"/api/upload\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_upload_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGdXBsb2FkJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZ1cGxvYWQudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDa0Q7QUFDbEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGlEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxpREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS91cGxvYWQudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VwbG9hZFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VwbG9hZFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fupload.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/upload.ts":
/*!*****************************!*\
  !*** ./pages/api/upload.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! child_process */ \"child_process\");\n/* harmony import */ var child_process__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(child_process__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _lib_chunkMarkdown__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/chunkMarkdown */ \"(api-node)/./lib/chunkMarkdown.ts\");\n/* harmony import */ var _lib_rag__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../lib/rag */ \"(api-node)/./lib/rag.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_rag__WEBPACK_IMPORTED_MODULE_4__]);\n_lib_rag__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\n// Ensure data directory exists\nconst dataDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), 'data');\nif (!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(dataDir)) {\n    fs__WEBPACK_IMPORTED_MODULE_1___default().mkdirSync(dataDir, {\n        recursive: true\n    });\n}\n// Maximum number of chunks to process\nconst MAX_CHUNKS = 750;\nconst contextPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(dataDir, 'context.md');\nasync function handler(req, res) {\n    if (req.method !== 'POST') {\n        return res.status(405).json({\n            message: 'Method not allowed'\n        });\n    }\n    try {\n        const { url } = req.body;\n        if (!url) {\n            return res.status(400).json({\n                message: 'URL is required'\n            });\n        }\n        // Clear previous markdown file if it exists\n        if (fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(contextPath)) {\n            fs__WEBPACK_IMPORTED_MODULE_1___default().writeFileSync(contextPath, '');\n        }\n        // Run the Python script with the URL as an argument\n        // Updated path to point within the project's scripts directory\n        const pythonScriptPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), 'scripts', 'scrape_to_md.py');\n        console.log(`Starting Python script: ${pythonScriptPath}`);\n        console.log(`Processing URL: ${url}`);\n        // Execute the Python script as a child process\n        const pythonProcess = (0,child_process__WEBPACK_IMPORTED_MODULE_0__.spawn)('python', [\n            pythonScriptPath,\n            url,\n            contextPath\n        ]);\n        let scriptOutput = '';\n        let scriptError = '';\n        pythonProcess.stdout.on('data', (data)=>{\n            scriptOutput += data.toString();\n            console.log(`Python script output: ${data}`);\n        });\n        pythonProcess.stderr.on('data', (data)=>{\n            scriptError += data.toString();\n            console.error(`Python script error: ${data}`);\n        });\n        // Wait for the Python script to complete\n        const exitCode = await new Promise((resolve)=>{\n            pythonProcess.on('close', resolve);\n        });\n        if (exitCode !== 0) {\n            console.error(`Python script exited with code ${exitCode}`);\n            console.error(`Error output: ${scriptError}`);\n            return res.status(500).json({\n                message: 'Failed to process the URL',\n                error: scriptError || 'Unknown error'\n            });\n        }\n        // Read the generated markdown file\n        if (!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(contextPath)) {\n            return res.status(500).json({\n                message: 'Failed to generate markdown content',\n                error: 'Markdown file not found'\n            });\n        }\n        const markdownContent = fs__WEBPACK_IMPORTED_MODULE_1___default().readFileSync(contextPath, 'utf-8');\n        if (!markdownContent || markdownContent.trim().length === 0) {\n            return res.status(500).json({\n                message: 'Failed to generate markdown content',\n                error: 'Generated markdown is empty'\n            });\n        }\n        console.log(`Successfully generated markdown (${markdownContent.length} characters)`);\n        // Chunk the markdown content\n        let chunks = (0,_lib_chunkMarkdown__WEBPACK_IMPORTED_MODULE_3__.chunkMarkdown)(markdownContent);\n        console.log(`Split markdown into ${chunks.length} chunks`);\n        // Limit the number of chunks to process\n        if (chunks.length > MAX_CHUNKS) {\n            console.log(`Limiting chunks from ${chunks.length} to ${MAX_CHUNKS}`);\n            chunks = chunks.slice(0, MAX_CHUNKS);\n        }\n        // Initialize the RAG system with the chunks\n        await (0,_lib_rag__WEBPACK_IMPORTED_MODULE_4__.initializeRAG)(chunks);\n        // Return success response\n        return res.status(200).json({\n            message: 'URL processed successfully',\n            chunkCount: chunks.length,\n            limitApplied: chunks.length === MAX_CHUNKS\n        });\n    } catch (error) {\n        console.error('Error processing URL:', error);\n        return res.status(500).json({\n            message: 'Failed to process the URL',\n            error: error.message || 'Unknown error'\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS91cGxvYWQudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQ3NDO0FBQ2xCO0FBQ0k7QUFDZ0M7QUFDVjtBQUU5QywrQkFBK0I7QUFDL0IsTUFBTUssVUFBVUgsZ0RBQVMsQ0FBQ0ssUUFBUUMsR0FBRyxJQUFJO0FBQ3pDLElBQUksQ0FBQ1Asb0RBQWEsQ0FBQ0ksVUFBVTtJQUMzQkosbURBQVksQ0FBQ0ksU0FBUztRQUFFTSxXQUFXO0lBQUs7QUFDMUM7QUFFQSxzQ0FBc0M7QUFDdEMsTUFBTUMsYUFBYTtBQUVuQixNQUFNQyxjQUFjWCxnREFBUyxDQUFDRyxTQUFTO0FBRXhCLGVBQWVTLFFBQVFDLEdBQW1CLEVBQUVDLEdBQW9CO0lBQzdFLElBQUlELElBQUlFLE1BQU0sS0FBSyxRQUFRO1FBQ3pCLE9BQU9ELElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsU0FBUztRQUFxQjtJQUM5RDtJQUVBLElBQUk7UUFDRixNQUFNLEVBQUVDLEdBQUcsRUFBRSxHQUFHTixJQUFJTyxJQUFJO1FBRXhCLElBQUksQ0FBQ0QsS0FBSztZQUNSLE9BQU9MLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7WUFBa0I7UUFDM0Q7UUFFQSw0Q0FBNEM7UUFDNUMsSUFBSW5CLG9EQUFhLENBQUNZLGNBQWM7WUFDOUJaLHVEQUFnQixDQUFDWSxhQUFhO1FBQ2hDO1FBRUEsb0RBQW9EO1FBQ3BELCtEQUErRDtRQUMvRCxNQUFNVyxtQkFBbUJ0QixnREFBUyxDQUFDSyxRQUFRQyxHQUFHLElBQUksV0FBVztRQUU3RGlCLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHdCQUF3QixFQUFFRixrQkFBa0I7UUFDekRDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGdCQUFnQixFQUFFTCxLQUFLO1FBRXBDLCtDQUErQztRQUMvQyxNQUFNTSxnQkFBZ0IzQixvREFBS0EsQ0FBQyxVQUFVO1lBQUN3QjtZQUFrQkg7WUFBS1I7U0FBWTtRQUUxRSxJQUFJZSxlQUFlO1FBQ25CLElBQUlDLGNBQWM7UUFFbEJGLGNBQWNHLE1BQU0sQ0FBQ0MsRUFBRSxDQUFDLFFBQVEsQ0FBQ0M7WUFDL0JKLGdCQUFnQkksS0FBS0MsUUFBUTtZQUM3QlIsUUFBUUMsR0FBRyxDQUFDLENBQUMsc0JBQXNCLEVBQUVNLE1BQU07UUFDN0M7UUFFQUwsY0FBY08sTUFBTSxDQUFDSCxFQUFFLENBQUMsUUFBUSxDQUFDQztZQUMvQkgsZUFBZUcsS0FBS0MsUUFBUTtZQUM1QlIsUUFBUVUsS0FBSyxDQUFDLENBQUMscUJBQXFCLEVBQUVILE1BQU07UUFDOUM7UUFFQSx5Q0FBeUM7UUFDekMsTUFBTUksV0FBVyxNQUFNLElBQUlDLFFBQVEsQ0FBQ0M7WUFDbENYLGNBQWNJLEVBQUUsQ0FBQyxTQUFTTztRQUM1QjtRQUVBLElBQUlGLGFBQWEsR0FBRztZQUNsQlgsUUFBUVUsS0FBSyxDQUFDLENBQUMsK0JBQStCLEVBQUVDLFVBQVU7WUFDMURYLFFBQVFVLEtBQUssQ0FBQyxDQUFDLGNBQWMsRUFBRU4sYUFBYTtZQUM1QyxPQUFPYixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO2dCQUMxQkMsU0FBUztnQkFDVGUsT0FBT04sZUFBZTtZQUN4QjtRQUNGO1FBRUEsbUNBQW1DO1FBQ25DLElBQUksQ0FBQzVCLG9EQUFhLENBQUNZLGNBQWM7WUFDL0IsT0FBT0csSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJDLFNBQVM7Z0JBQ1RlLE9BQU87WUFDVDtRQUNGO1FBRUEsTUFBTUksa0JBQWtCdEMsc0RBQWUsQ0FBQ1ksYUFBYTtRQUVyRCxJQUFJLENBQUMwQixtQkFBbUJBLGdCQUFnQkUsSUFBSSxHQUFHQyxNQUFNLEtBQUssR0FBRztZQUMzRCxPQUFPMUIsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJDLFNBQVM7Z0JBQ1RlLE9BQU87WUFDVDtRQUNGO1FBRUFWLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLGlDQUFpQyxFQUFFYSxnQkFBZ0JHLE1BQU0sQ0FBQyxZQUFZLENBQUM7UUFFcEYsNkJBQTZCO1FBQzdCLElBQUlDLFNBQVN4QyxpRUFBYUEsQ0FBQ29DO1FBQzNCZCxRQUFRQyxHQUFHLENBQUMsQ0FBQyxvQkFBb0IsRUFBRWlCLE9BQU9ELE1BQU0sQ0FBQyxPQUFPLENBQUM7UUFFekQsd0NBQXdDO1FBQ3hDLElBQUlDLE9BQU9ELE1BQU0sR0FBRzlCLFlBQVk7WUFDOUJhLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHFCQUFxQixFQUFFaUIsT0FBT0QsTUFBTSxDQUFDLElBQUksRUFBRTlCLFlBQVk7WUFDcEUrQixTQUFTQSxPQUFPQyxLQUFLLENBQUMsR0FBR2hDO1FBQzNCO1FBRUEsNENBQTRDO1FBQzVDLE1BQU1SLHVEQUFhQSxDQUFDdUM7UUFFcEIsMEJBQTBCO1FBQzFCLE9BQU8zQixJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQzFCQyxTQUFTO1lBQ1R5QixZQUFZRixPQUFPRCxNQUFNO1lBQ3pCSSxjQUFjSCxPQUFPRCxNQUFNLEtBQUs5QjtRQUNsQztJQUVGLEVBQUUsT0FBT3VCLE9BQU87UUFDZFYsUUFBUVUsS0FBSyxDQUFDLHlCQUF5QkE7UUFDdkMsT0FBT25CLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDMUJDLFNBQVM7WUFDVGUsT0FBT0EsTUFBTWYsT0FBTyxJQUFJO1FBQzFCO0lBQ0Y7QUFDRiIsInNvdXJjZXMiOlsiL2hvbWUvaWlpdGQvb3Jla2kvbGxtZG9jcy1yL3JhZy1hcHAvcGFnZXMvYXBpL3VwbG9hZC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBzcGF3biB9IGZyb20gJ2NoaWxkX3Byb2Nlc3MnO1xuaW1wb3J0IGZzIGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuaW1wb3J0IHsgY2h1bmtNYXJrZG93biB9IGZyb20gJy4uLy4uL2xpYi9jaHVua01hcmtkb3duJztcbmltcG9ydCB7IGluaXRpYWxpemVSQUcgfSBmcm9tICcuLi8uLi9saWIvcmFnJztcblxuLy8gRW5zdXJlIGRhdGEgZGlyZWN0b3J5IGV4aXN0c1xuY29uc3QgZGF0YURpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScpO1xuaWYgKCFmcy5leGlzdHNTeW5jKGRhdGFEaXIpKSB7XG4gIGZzLm1rZGlyU3luYyhkYXRhRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbn1cblxuLy8gTWF4aW11bSBudW1iZXIgb2YgY2h1bmtzIHRvIHByb2Nlc3NcbmNvbnN0IE1BWF9DSFVOS1MgPSA3NTA7XG5cbmNvbnN0IGNvbnRleHRQYXRoID0gcGF0aC5qb2luKGRhdGFEaXIsICdjb250ZXh0Lm1kJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgaWYgKHJlcS5tZXRob2QgIT09ICdQT1NUJykge1xuICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IG1lc3NhZ2U6ICdNZXRob2Qgbm90IGFsbG93ZWQnIH0pO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBjb25zdCB7IHVybCB9ID0gcmVxLmJvZHk7XG5cbiAgICBpZiAoIXVybCkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogJ1VSTCBpcyByZXF1aXJlZCcgfSk7XG4gICAgfVxuXG4gICAgLy8gQ2xlYXIgcHJldmlvdXMgbWFya2Rvd24gZmlsZSBpZiBpdCBleGlzdHNcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhjb250ZXh0UGF0aCkpIHtcbiAgICAgIGZzLndyaXRlRmlsZVN5bmMoY29udGV4dFBhdGgsICcnKTtcbiAgICB9XG5cbiAgICAvLyBSdW4gdGhlIFB5dGhvbiBzY3JpcHQgd2l0aCB0aGUgVVJMIGFzIGFuIGFyZ3VtZW50XG4gICAgLy8gVXBkYXRlZCBwYXRoIHRvIHBvaW50IHdpdGhpbiB0aGUgcHJvamVjdCdzIHNjcmlwdHMgZGlyZWN0b3J5XG4gICAgY29uc3QgcHl0aG9uU2NyaXB0UGF0aCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnc2NyaXB0cycsICdzY3JhcGVfdG9fbWQucHknKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgU3RhcnRpbmcgUHl0aG9uIHNjcmlwdDogJHtweXRob25TY3JpcHRQYXRofWApO1xuICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzaW5nIFVSTDogJHt1cmx9YCk7XG4gICAgXG4gICAgLy8gRXhlY3V0ZSB0aGUgUHl0aG9uIHNjcmlwdCBhcyBhIGNoaWxkIHByb2Nlc3NcbiAgICBjb25zdCBweXRob25Qcm9jZXNzID0gc3Bhd24oJ3B5dGhvbicsIFtweXRob25TY3JpcHRQYXRoLCB1cmwsIGNvbnRleHRQYXRoXSk7XG4gICAgXG4gICAgbGV0IHNjcmlwdE91dHB1dCA9ICcnO1xuICAgIGxldCBzY3JpcHRFcnJvciA9ICcnO1xuXG4gICAgcHl0aG9uUHJvY2Vzcy5zdGRvdXQub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuICAgICAgc2NyaXB0T3V0cHV0ICs9IGRhdGEudG9TdHJpbmcoKTtcbiAgICAgIGNvbnNvbGUubG9nKGBQeXRob24gc2NyaXB0IG91dHB1dDogJHtkYXRhfWApO1xuICAgIH0pO1xuXG4gICAgcHl0aG9uUHJvY2Vzcy5zdGRlcnIub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuICAgICAgc2NyaXB0RXJyb3IgKz0gZGF0YS50b1N0cmluZygpO1xuICAgICAgY29uc29sZS5lcnJvcihgUHl0aG9uIHNjcmlwdCBlcnJvcjogJHtkYXRhfWApO1xuICAgIH0pO1xuXG4gICAgLy8gV2FpdCBmb3IgdGhlIFB5dGhvbiBzY3JpcHQgdG8gY29tcGxldGVcbiAgICBjb25zdCBleGl0Q29kZSA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICBweXRob25Qcm9jZXNzLm9uKCdjbG9zZScsIHJlc29sdmUpO1xuICAgIH0pO1xuXG4gICAgaWYgKGV4aXRDb2RlICE9PSAwKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBQeXRob24gc2NyaXB0IGV4aXRlZCB3aXRoIGNvZGUgJHtleGl0Q29kZX1gKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIG91dHB1dDogJHtzY3JpcHRFcnJvcn1gKTtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IFxuICAgICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHByb2Nlc3MgdGhlIFVSTCcsXG4gICAgICAgIGVycm9yOiBzY3JpcHRFcnJvciB8fCAnVW5rbm93biBlcnJvcidcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJlYWQgdGhlIGdlbmVyYXRlZCBtYXJrZG93biBmaWxlXG4gICAgaWYgKCFmcy5leGlzdHNTeW5jKGNvbnRleHRQYXRoKSkge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICAgIG1lc3NhZ2U6ICdGYWlsZWQgdG8gZ2VuZXJhdGUgbWFya2Rvd24gY29udGVudCcsXG4gICAgICAgIGVycm9yOiAnTWFya2Rvd24gZmlsZSBub3QgZm91bmQnXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zdCBtYXJrZG93bkNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoY29udGV4dFBhdGgsICd1dGYtOCcpO1xuICAgIFxuICAgIGlmICghbWFya2Rvd25Db250ZW50IHx8IG1hcmtkb3duQ29udGVudC50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBcbiAgICAgICAgbWVzc2FnZTogJ0ZhaWxlZCB0byBnZW5lcmF0ZSBtYXJrZG93biBjb250ZW50JyxcbiAgICAgICAgZXJyb3I6ICdHZW5lcmF0ZWQgbWFya2Rvd24gaXMgZW1wdHknXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGdlbmVyYXRlZCBtYXJrZG93biAoJHttYXJrZG93bkNvbnRlbnQubGVuZ3RofSBjaGFyYWN0ZXJzKWApO1xuXG4gICAgLy8gQ2h1bmsgdGhlIG1hcmtkb3duIGNvbnRlbnRcbiAgICBsZXQgY2h1bmtzID0gY2h1bmtNYXJrZG93bihtYXJrZG93bkNvbnRlbnQpO1xuICAgIGNvbnNvbGUubG9nKGBTcGxpdCBtYXJrZG93biBpbnRvICR7Y2h1bmtzLmxlbmd0aH0gY2h1bmtzYCk7XG4gICAgXG4gICAgLy8gTGltaXQgdGhlIG51bWJlciBvZiBjaHVua3MgdG8gcHJvY2Vzc1xuICAgIGlmIChjaHVua3MubGVuZ3RoID4gTUFYX0NIVU5LUykge1xuICAgICAgY29uc29sZS5sb2coYExpbWl0aW5nIGNodW5rcyBmcm9tICR7Y2h1bmtzLmxlbmd0aH0gdG8gJHtNQVhfQ0hVTktTfWApO1xuICAgICAgY2h1bmtzID0gY2h1bmtzLnNsaWNlKDAsIE1BWF9DSFVOS1MpO1xuICAgIH1cblxuICAgIC8vIEluaXRpYWxpemUgdGhlIFJBRyBzeXN0ZW0gd2l0aCB0aGUgY2h1bmtzXG4gICAgYXdhaXQgaW5pdGlhbGl6ZVJBRyhjaHVua3MpO1xuXG4gICAgLy8gUmV0dXJuIHN1Y2Nlc3MgcmVzcG9uc2VcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBcbiAgICAgIG1lc3NhZ2U6ICdVUkwgcHJvY2Vzc2VkIHN1Y2Nlc3NmdWxseScsXG4gICAgICBjaHVua0NvdW50OiBjaHVua3MubGVuZ3RoLFxuICAgICAgbGltaXRBcHBsaWVkOiBjaHVua3MubGVuZ3RoID09PSBNQVhfQ0hVTktTXG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBwcm9jZXNzaW5nIFVSTDonLCBlcnJvcik7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXG4gICAgICBtZXNzYWdlOiAnRmFpbGVkIHRvIHByb2Nlc3MgdGhlIFVSTCcsXG4gICAgICBlcnJvcjogZXJyb3IubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcidcbiAgICB9KTtcbiAgfVxufSJdLCJuYW1lcyI6WyJzcGF3biIsImZzIiwicGF0aCIsImNodW5rTWFya2Rvd24iLCJpbml0aWFsaXplUkFHIiwiZGF0YURpciIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZXhpc3RzU3luYyIsIm1rZGlyU3luYyIsInJlY3Vyc2l2ZSIsIk1BWF9DSFVOS1MiLCJjb250ZXh0UGF0aCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsInVybCIsImJvZHkiLCJ3cml0ZUZpbGVTeW5jIiwicHl0aG9uU2NyaXB0UGF0aCIsImNvbnNvbGUiLCJsb2ciLCJweXRob25Qcm9jZXNzIiwic2NyaXB0T3V0cHV0Iiwic2NyaXB0RXJyb3IiLCJzdGRvdXQiLCJvbiIsImRhdGEiLCJ0b1N0cmluZyIsInN0ZGVyciIsImVycm9yIiwiZXhpdENvZGUiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1hcmtkb3duQ29udGVudCIsInJlYWRGaWxlU3luYyIsInRyaW0iLCJsZW5ndGgiLCJjaHVua3MiLCJzbGljZSIsImNodW5rQ291bnQiLCJsaW1pdEFwcGxpZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/upload.ts\n");

/***/ }),

/***/ "@google/generative-ai":
/*!****************************************!*\
  !*** external "@google/generative-ai" ***!
  \****************************************/
/***/ ((module) => {

module.exports = import("@google/generative-ai");;

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("child_process");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fupload.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();